T <- 2 # 2 periods
n <- 12 # 12 entities
alpha <- 5*rnorm(n)
x.1 <- rnorm(n) - .5*alpha
x.2 <- rnorm(n) - .5*alpha
beta <- 5
sigma <- .3
y.1 <- alpha + x.1 + sigma*rnorm(n)
y.2 <- alpha + x.2 + sigma*rnorm(n)
par(mfrow=c(1,2))
plot(x.1,y.1,col="black",pch=19,
xlab="x",
ylab="y",
xlim=c(min(c(x.1,x.2)),max(c(x.1,x.2))),
ylim=c(min(y.1,y.2),max(y.1,y.2)))
points(x.2,y.2,col="black",pch=19)
plot(x.1,y.1,col="blue",pch=19,
xlab="x",
ylab="y",
xlim=c(min(c(x.1,x.2)),max(c(x.1,x.2))),
ylim=c(min(y.1,y.2),max(y.1,y.2))
)
points(x.2,y.2,col="red",pch=19)
for(i in 1:n){
lines(c(x.1[i],x.2[i]),c(y.1[i],y.2[i]))
}
dev.off()
dev.off()
T <- 2 # 2 periods
n <- 12 # 12 entities
alpha <- 5*rnorm(n) # draw fixed effects
x.1 <- rnorm(n) - .5*alpha # note: x_i's correlate to alpha_i's
x.2 <- rnorm(n) - .5*alpha
beta <- 5
sigma <- .3
y.1 <- alpha + x.1 + sigma*rnorm(n)
y.2 <- alpha + x.2 + sigma*rnorm(n)
x <- c(x.1,x.1)
y <- c(y.1,y.2)
par(mfrow=c(1,2))
plot(x,y,col="black",pch=19,xlab="x",ylab="y")
plot(x,y,col="black",pch=19,xlab="x",ylab="y")
points(x.1,y.1,col="blue",pch=19)
points(x.2,y.2,col="red",pch=19)
for(i in 1:n){
lines(c(x.1[i],x.2[i]),c(y.1[i],y.2[i]))
}
T <- 2 # 2 periods
n <- 12 # 12 entities
alpha <- 5*rnorm(n) # draw fixed effects
x.1 <- rnorm(n) - .5*alpha # note: x_i's correlate to alpha_i's
x.2 <- rnorm(n) - .5*alpha
beta <- 5
sigma <- .3
y.1 <- alpha + x.1 + sigma*rnorm(n)
y.2 <- alpha + x.2 + sigma*rnorm(n)
x <- c(x.1,x.2)
y <- c(y.1,y.2)
par(mfrow=c(1,2))
plot(x,y,col="black",pch=19,xlab="x",ylab="y")
plot(x,y,col="black",pch=19,xlab="x",ylab="y")
points(x.1,y.1,col="blue",pch=19)
points(x.2,y.2,col="red",pch=19)
for(i in 1:n){
lines(c(x.1[i],x.2[i]),c(y.1[i],y.2[i]))
}
data("CigarettesSW")
data("CigarettesSW",package = AER)
data("CigarettesSW",package = "AER")
Vew(CigarettesSW)
View(CigarettesSW)
source("~/My Drive/Teaching/UNIL/Rcode/code_Panel.R")
eta
eq.pooled <- lm(packs~log(rprice)+log(rincome),data=CigarettesSW)
print(summary(eq.pooled))
summary(eq.pooled)$coef
summary(eq.pooled)$coef[1:2,]
summary(CigarettesSW$packs)
eq.pooled <- lm(log(packs)~log(rprice)+log(rincome),data=CigarettesSW)
print(summary(eq.pooled))
head(CigarettesSW)
eq.LSDV <- lm(log(packs)~log(rprice)+log(rincome)+state,data=CigarettesSW)
summary(eq.LSDV)
class(CigarettesSW$state)
print(summary(eq.LSDV)[1:3,])
print(summary(eq.LSDV)$coefficients[1:3,])
print(summary(eq.pooled)$coefficients)
data("CigarettesSW", package = "AER")
CigarettesSW$rprice  <- with(CigarettesSW, price/cpi)
CigarettesSW$rincome <- with(CigarettesSW, income/population/cpi)
T <- length(levels(CigarettesSW$year))
n <- length(levels(CigarettesSW$state))
eq.pooled <- lm(log(packs)~log(rprice)+log(rincome),data=CigarettesSW)
print(summary(eq.pooled)$coefficients)
eq.LSDV <- lm(log(packs)~log(rprice)+log(rincome)+state,data=CigarettesSW)
print(summary(eq.LSDV)$coefficients[1:3,])
names(CigarettesSW)
class(CigarettesSW$year)
markdown::pandoc_version()
library(kableExtra)
install.packages("kableExtra")
library(kableExtra)
data("EmplUK", package = "plm")
install.packages("plm")
library(plm)
install.packages(collapse)
install.packages("collapse")
library(plm)
data("EmplUK", package = "plm")
dim(EmplUK)
head(EmplUK)
par(mar = c(4, 4, .1, .1))
plot(pressure, type = 'b', pch = 19)
source("~/Dropbox/Teaching/Structural shocks/RCodes/Code_SR_and_LR.R")
setwd("~/Dropbox/Teaching/GraduateInstitute/Cours_Bookdown")
source("~/Dropbox/Teaching/Structural shocks/RCodes/Code_SR_and_LR.R")
getwd()
setwd("~/Dropbox/Teaching/GraduateInstitute/Cours_Bookdown")
setwd("~/Dropbox/Teaching/GraduateInstitute/Cours_Bookdown")
y <- rexp(200,rate = 1/3)
rug(y,col="red")
y <- rexp(200,rate = 1/3)
rug(y,col="red")
c(expression(paste(lambda," = 1"),sep=""),
expression(paste(lambda," = 3"),sep=""),
expression(paste(lambda," = 5"),sep=""),
expression(paste(lambda," = 7"),sep=""))
y <- rexp(200,rate = 1/3)
hist(y,xlim=c(0,12),ylim=c(0,1),
freq = FALSE,breaks = 20,xlab="",ylab="",main="",col="white")
x <- seq(0,12,by=.01)
lambda = 1
par(new=TRUE)
plot(x,1/lambda * exp(-x/lambda),type="l",lwd=2,
ylim=c(0,1),
xlab="time period between two arrivals",
ylab="density")
rug(y,col="red")
lambda = 3
lines(x,1/lambda * exp(-x/lambda),type="l",lwd=2,col="blue")
lambda = 5
lines(x,1/lambda * exp(-x/lambda),type="l",lwd=2,col="red")
lambda = 7
lines(x,1/lambda * exp(-x/lambda),type="l",lwd=2,col="green")
legend("topright", # places a legend at the appropriate place c("Health","Defense"), # puts text in the legend
c(expression(paste(lambda," = 1"),sep=""),
expression(paste(lambda," = 3"),sep=""),
expression(paste(lambda," = 5"),sep=""),
expression(paste(lambda," = 7"),sep="")),
lty=c(1,1,1,1), # gives the legend appropriate symbols (lines)
lwd=c(2,2,2,2), # line width
col=c("black","blue","red","green"),
seg.len=3)
y <- rexp(200,rate = 1/3)
par(plt=c(.15,.15,.95,.95))
hist(y,xlim=c(0,12),ylim=c(0,1),
freq = FALSE,breaks = 20,xlab="",ylab="",main="",col="white")
log.f <- function(y,lambda){
return(sum(log(1/lambda*exp(-y/lambda))))
}
y <- c(1.1,2.2,0.7,5)
all.log.f <- NULL
all.lambda <- seq(.1,10,by=.1)
for(lambda in all.lambda){
all.log.f <- c(all.log.f,log.f(y,lambda))
}
par(plt=c(.15,.95,.2,.85))
plot(all.lambda,exp(all.log.f),type="l",lwd=2,xlab="lambda",ylab="Probability")
abline(v=all.lambda[which(all.log.f==max(all.log.f))],col="red")
log.f <- function(y,lambda){
return(sum(log(1/lambda*exp(-y/lambda))))
}
y <- c(1.1,2.2,0.7,5)
all.log.f <- NULL
all.lambda <- seq(.1,10,by=.1)
for(lambda in all.lambda){
all.log.f <- c(all.log.f,log.f(y,lambda))
}
par(plt=c(.15,.95,.2,.85))
plot(all.lambda,exp(all.log.f),type="l",lwd=2,xlab="lambda",ylab="Probability")
abline(v=all.lambda[which(all.log.f==max(all.log.f))],col="red")
